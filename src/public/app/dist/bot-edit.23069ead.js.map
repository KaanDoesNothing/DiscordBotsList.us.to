{"version":3,"sources":["pages/bot-edit.vue"],"names":[],"mappings":";;;;;;;AA8BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,SADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA,SAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,SAAA,KAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,qBAAA,GAAA,yBAAA,KAAA,MAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAFA;;AAIA,qBAAA,GAAA,2BAAA,KAAA,MAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,OAFA;AAGA,KATA;AAUA,IAAA,IAVA,kBAUA;AAAA;;AACA,qBAAA,IAAA,yBAAA,KAAA,MAAA,GAAA,KAAA,IAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,EAAA;AAEA,YAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,GAAA,EAAA,MAAA,CAAA,WAAA,GAAA,GAAA,CAAA,IAAA,CAAA,GAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA;;AAEA,QAAA,MAAA,CAAA,KAAA;AACA,OAVA;AAWA;AAtBA;AAdA","file":"bot-edit.23069ead.js","sourceRoot":"..","sourcesContent":["<template lang=\"pug\">\r\n    div(class=\"card\", style=\"margin: 10%;\", id=\"editBotForm\")\r\n        div(class=\"card-content\" v-if=\"data\")\r\n            div(class=\"notification is-danger\" v-if=\"lastError\") {{lastError}}\r\n            div(class=\"notification is-success\" v-if=\"lastMessage\") {{lastMessage}}\r\n\r\n            div(class=\"field\")\r\n                label(class=\"label\") Api Key\r\n                input(class=\"input\", type=\"text\",  v-model=\"apiKey\" readonly)\r\n            \r\n            div(class=\"field\")\r\n                label(class=\"label\") Prefix\r\n                input(class=\"input\", type=\"text\",  v-model=\"data.prefix\")\r\n            div(class=\"field\")\r\n                label(class=\"label\") Short Description\r\n                input(class=\"input\", type=\"text\", v-model=\"data.short_description\")\r\n            div(class=\"field\")\r\n                label(class=\"label\") Description\r\n                input(class=\"input\", type=\"text\", v-model=\"data.description\")\r\n                div(class=\"field\")\r\n            label(class=\"label\") Invite link\r\n                input(class=\"input\", type=\"text\", v-model=\"data.invite_link\")\r\n            label(class=\"label\") Website link\r\n                input(class=\"input\", type=\"text\", v-model=\"data.website_link\")\r\n            div(class=\"field\")\r\n                div(class=\"control\")\r\n                    button(class=\"button is-link\" @click=\"post\") Submit\r\n</template>\r\n\r\n<script>\r\n    import Axios from \"axios\";\r\n\r\n    export default {\r\n        data() {\r\n                return {\r\n                    data: undefined,\r\n                    lastError: \"\",\r\n                    lastMessage: \"\",\r\n                    apiKey: \"\",\r\n                    bot_id: undefined\r\n                }\r\n            },\r\n            mounted() {\r\n                this.bot_id = this.$route.params.id;\r\n                this.fetch();\r\n            },\r\n            methods: {\r\n                fetch() {\r\n                    Axios.get(`/api/bot/edit/${this.bot_id}`).then(res => {\r\n                        this.data = res.data;\r\n                    });\r\n\r\n                    Axios.get(`/api/bot/apikey/${this.bot_id}`).then(res => {\r\n                        this.apiKey = res.data.api_key;\r\n                    });\r\n                },\r\n                post() {\r\n                    Axios.post(`/api/bot/edit/${this.bot_id}`, this.data).then(res => {\r\n                        this.lastError = \"\";\r\n                        this.lastMessage = \"\";\r\n\r\n                        if(res.data.error) this.lastError = res.data.error;\r\n                        if(res.data.msg) this.lastMessage = res.data.msg;\r\n                        \r\n                        console.log(res.data);\r\n\r\n                        this.fetch();\r\n                    });\r\n                }\r\n            }\r\n    }\r\n</script>"]}