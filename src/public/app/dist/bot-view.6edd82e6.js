parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ZlGQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("vuex"),e=o(require("axios")),n=o(require("../alert.js"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={data:function(){return{bot:void 0,comments:[],comment_content:"",lastError:"",stats:{},bot_id:"",likeCount:0,likes:[]}},mounted:function(){this.bot_id=this.$route.params.id,this.fetchBot(),this.fetchComments(),this.fetchStats(),this.fetchLikes()},methods:{fetchBot:function(){var t=this;e.default.get("/api/bot/".concat(this.bot_id)).then(function(e){t.bot=e.data.bot})},fetchComments:function(){var t=this;e.default.get("/api/bot/comments/".concat(this.bot_id)).then(function(e){t.comments=e.data.comments})},fetchStats:function(){var t=this;e.default.get("/api/bot/stats/".concat(this.bot_id)).then(function(e){t.stats=e.data.stats})},fetchLikes:function(){var t=this;e.default.get("/api/bot/likes/".concat(this.bot_id)).then(function(e){t.likeCount=e.data.likes.length,t.likes=e.data.likes})},postComment:function(){var t=this;e.default.post("/api/bot/comments/".concat(this.bot_id),{content:this.comment_content}).then(function(e){e.data.msg?(t.fetchComments(),t.comment_content="",t.lastError=""):t.lastError=e.data.error})},like:function(){var t=this;this.hasLiked?e.default.delete("/api/bot/likes/".concat(this.bot_id)).then(function(e){t.fetchLikes()}):e.default.post("/api/bot/likes/".concat(this.bot_id)).then(function(e){t.fetchLikes()})}},computed:s({hasPermissions:function(){return!(!this.session||!this.bot)&&this.session._id===this.bot.owner_id},hasLiked:function(){var t=this;return this.likes.filter(function(e){return e.author_id===t.session._id})[0]}},(0,t.mapState)(["session","isLoggedIn"]))};exports.default=c;
(function(){var t=exports.default||module.exports;"function"==typeof t&&(t=t.options),Object.assign(t,{render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container",attrs:{id:"mainBotView"}},[t.bot?a("div",{staticClass:"card is-shadow"},[a("div",{staticClass:"card-image has-text-centered"},[a("img",{staticClass:"is-rounded",attrs:{id:"avatar",alt:"Bot Avatar",src:t.bot.user.avatarURL,width:"256",height:"256"}})]),a("div",{staticClass:"card-content has-text-centered"},[a("label",{staticClass:"title"},[t._v(t._s(t.bot.user.username)+"("+t._s(t.likeCount)+" likes) "),t.isLoggedIn?[a("a",{on:{click:t.like}},[a("font-awesome-icon",{class:{liked:t.hasLiked},attrs:{icon:"thumbs-up",id:"likeButton"}})],1)]:t._e()],2),a("br"),a("div",{staticClass:"field is-grouped",staticStyle:{"justify-content":"center"}},[a("div",{staticClass:"control"},[a("br"),a("span",{staticClass:"tag tag-first"},[t._v("Owner")]),a("a",{staticClass:"is-info tag tag-second"},[t._v(t._s(t.bot.owner.tag))])]),a("div",{staticClass:"control"},[a("br"),a("span",{staticClass:"tag tag-first"},[t._v("Prefix")]),a("a",{staticClass:"is-info tag tag-second"},[t._v(t._s(t.bot.prefix))])])]),t.stats?a("div",{staticClass:"field is-grouped"},[t.stats.guilds?a("div",{staticClass:"control"},[a("br"),a("span",{staticClass:"tag tag-first"},[t._v("Guilds")]),a("a",{staticClass:"is-info tag tag-second"},[t._v(t._s(t.stats.guilds))])]):t._e(),t.stats.channels?a("div",{staticClass:"control"},[a("br"),a("span",{staticClass:"tag tag-first"},[t._v("Channels")]),a("a",{staticClass:"is-info tag tag-second"},[t._v(t._s(t.stats.channels))])]):t._e(),t.stats.users?a("div",{staticClass:"control"},[a("br"),a("span",{staticClass:"tag tag-first"},[t._v("users")]),a("a",{staticClass:"is-info tag tag-second"},[t._v(t._s(t.stats.users))])]):t._e()]):t._e(),a("div",{staticClass:"control"},[a("br"),a("div",{staticClass:"buttons is-centered"},[a("a",{staticClass:"button is-dark",attrs:{href:t.bot.invite_link}},[t._v("Invite")]),a("a",{staticClass:"button is-dark",attrs:{href:t.bot.website_link}},[t._v("Website")]),t.hasPermissions?a("router-link",{staticClass:"button is-dark",attrs:{to:"/bot/"+t.bot.bot_id+"/edit"}},[t._v("Edit")]):t._e()],1)]),a("br"),a("div",{staticClass:"has-text-centered message"},[a("div",{staticClass:"message-header text-center"},[t._v("Description")]),a("div",{staticClass:"message-body"},[t._v(t._s(t.bot.description))])])])]):t._e(),a("br"),a("div",{staticClass:"container"},[a("div",{staticClass:"card is-shadow"},[t._m(0),a("div",{staticClass:"card-content"},[a("div",{staticClass:"field"},[t.lastError?a("div",{staticClass:"is-danger notification"},[t._v(t._s(t.lastError))]):t._e()]),t.isLoggedIn?a("div",{staticClass:"field has-addons"},[a("div",{staticClass:"control is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.comment_content,expression:"comment_content"}],staticClass:"input",attrs:{type:"text",placeholder:"Message content here."},domProps:{value:t.comment_content},on:{input:function(s){s.target.composing||(t.comment_content=s.target.value)}}})]),a("div",{staticClass:"control"},[a("a",{staticClass:"button is-info",on:{click:t.postComment}},[t._v("Comment")])])]):t._e(),t._l(t.comments,function(s){return a("div",{staticClass:"media"},[a("div",{staticClass:"media-left"},[a("label",{staticClass:"image is-64x64"},[a("img",{staticClass:"is-rounded",attrs:{src:s.author.displayAvatarURL}})])]),a("div",{staticClass:"media-content"},[a("div",{staticClass:"content"},[a("router-link",{attrs:{to:"/profile/"+s.author_id}},[a("strong",[t._v(t._s(s.author.username)+" ")])]),a("label",[t._v(t._s(s.readableCommentDate))]),a("br"),a("label",[t._v(t._s(s.content))]),a("br")],1)])])})],2)])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header"},[s("label",{staticClass:"card-header-title"},[this._v("Comments")])])}],_compiled:!0,_scopeId:null,functional:void 0});})();
},{"vuex":"CHzS","axios":"gI3o","../alert.js":"acK6"}]},{},[], null)
//# sourceMappingURL=/bot-view.6edd82e6.js.map